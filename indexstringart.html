<!DOCTYPE html>
<html>
<head>
  <title>STRING PHOTO SIMULATOR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Scripts -->
  <script src="p5.min.js"></script>
  <script src="send.js" defer></script>
  <script src="kniter.js"></script>
  <script src="editPicturePage.js"></script>
  <script src="generatePage.js"></script>
  <script src="sketch.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap" rel="stylesheet">

  <style>
    body {
      background: #181A20;
      color: #ECECEC;
      font-family: 'Rubik', sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      overflow-x: hidden;
    }

    /* Main container */
    #bodyContainer {
      width: 920px;
      margin-top: 20px;
      background: #20232A;
      border-radius: 32px;
      box-shadow: 0 8px 32px rgba(40, 44, 52, 0.6);
      padding: 30px 40px;
      animation: fadeIn 1.2s;
      display: flex;
      flex-direction: column;
      gap: 30px; /* spacing between settings & viewer */
    }

    @keyframes fadeIn { from { opacity:0;} to {opacity:1;} }

    /* SETTINGS PANEL */
    #toolBar {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .buttonSt, .labelSt, .plusMinus, .displayBox, .displayBoxParent {
      margin: 10px 0;
    }

    .labelSt {
      font-size: 16px;
      font-weight: 500;
      color: #F9A825;
      margin-bottom: 6px;
    }

    /* Fancy Buttons */
    .animated-btn {
      background: linear-gradient(90deg, #ffd600 0%, #ff4081 100%);
      color: #181A20;
      font-weight: 700;
      border: none;
      border-radius: 16px;
      padding: 13px 24px;
      cursor: pointer;
      font-size: 16px;
      transition: .2s;
    }
    .animated-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 32px #ffd60080;
    }

    /* Display boxes */
    .displayBox {
      background: #242632;
      border-radius: 12px;
      padding: 10px;
      display: flex;
      gap: 12px;
      align-items: center;
      box-shadow: 0 2px 8px #0009;
    }
    .displayBox > div, .displayBox .selected {
      font-size: 15px;
      padding: 8px 14px;
      border-radius: 7px;
      cursor: pointer;
      background: #232843;
      color: #FFD600;
    }
    .displayBox .selected {
      background: linear-gradient(90deg, #ffa000 0%, #ff4081 80%);
      color: #181A20;
    }

    .plusMinus {
      font-size: 25px;
      padding: 4px 12px;
      color: #FFD600;
      cursor: pointer;
    }

    /* IMAGE VIEWER (big but always below settings) */
    #sketch-holder {
      width: 100%;
      height: 650px;
      max-height: 75vh;
      background: #111218;
      border-radius: 22px;
      overflow: hidden;
      box-shadow: 0 8px 40px #0007;
    }

  </style>
</head>

<body>
  <div id="bodyContainer">

    <!-- SETTINGS PANEL -->
    <div id="toolBar">

      <div id="step01">
        <div id="inputImage" style="cursor:pointer;">
          <label class="labelSt" for="file">IMAGE</label>
          <input type="file" id="file" onchange="openFile(event)" style="margin-top:6px;">
        </div>

        <div id="numbers">

          <div id="numberOfPins" class="buttonSt">
            <div class="labelSt">Pins Number</div>
            <div id="pinSelect" class="displayBoxParent">
              <div id="frameList" class="displayBox">
                <div>120</div>
                <div>240</div>
                <div>280</div>
                <div class="selected">320</div>
              </div>
            </div>
          </div>

          <div id="numberOfstroke" class="buttonSt">
            <label class="labelSt">Strokes Number</label>
            <div id="stroke" class="displayBoxParent">
              <div id="strokeScreen" class="displayBox">
                <div id="strokeMinus" class="plusMinus">➖</div>
                <div id="strokeValue">2000</div>
                <div id="strokePlus" class="plusMinus">➕</div>
              </div>
            </div>
          </div>

        </div>

        <div id="makeArt">
          <button id="strokeReady" class="animated-btn">Gen</button>
        </div>
      </div>

      <div id="step02">

        <div id="imgorstring">
          <div id="cstr" class="selected"></div>
          <div id="cimg"></div>
        </div>

        <div id="colorBalance" class="buttonSt">
          <div class="labelSt" style="font-size:10px;">Color Balance</div>
          <div id="balance" class="displayBoxParent">
            <div id="balanceScreen" class="displayBox">
              <div id="balanceMinus" class="plusMinus">➖</div>
              <div id="balanceValue">50</div>
              <div id="balancePlus" class="plusMinus">➕</div>
            </div>
          </div>
        </div>

        <div id="saveThings" style="text-align:center;">
          <div class="labelSt" style="font-size:10px;">Save</div>
          <div id="saveBox" class="displayBoxParent">
            <div id="saveList" class="displayBox">
              <div>IMG</div>
              <div>DAT</div>
            </div>
          </div>
        </div>

        <div id="remakeArt">
          <button id="remakeReady" class="animated-btn" style="width:110px;">Regen</button>
        </div>

        <div id="backToStarted">
          <button id="backtostarted" class="animated-btn" style="background:linear-gradient(90deg,#181A20 0%,#ff4081 80%);color:#ffd600;width:95px;">Del</button>
        </div>

      </div>

    </div>

    <!-- CLEAN SEPARATION — IMAGE VIEWER BELOW -->
    <div id="sketch-holder"></div>

  </div>
</body>
</html>
